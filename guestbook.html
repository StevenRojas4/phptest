<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Guestbook</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<header>
    <h1>Guestbook</h1>
</header>

<nav>
    <a href="index.html">Home</a>
    <a href="calculator.html">Calculator</a>
    <a href="about.html">About</a>
    <a href="guestbook.html">Guestbook</a>
    <a href="bookfinder.html">Book Finder</a>
</nav>

<main>
    <h2>Leave a Message</h2>

    <form id="guestbookForm">
        <label>Your Name</label>
        <input type="text" id="name" required>

        <label>Your Message</label>
        <textarea id="message" rows="4" required></textarea>

        <button type="submit">Enter</button>
    </form>

    <h2>Messages</h2>
    <div id="entries"></div>
</main>

<script>
// Load saved messages from localStorage
function loadEntries() {
    const entriesDiv = document.getElementById("entries");
    entriesDiv.innerHTML = "";

    let entries = JSON.parse(localStorage.getItem("guestbookEntries")) || [];

    // Reverse chronological order â€” newest first
    entries.reverse();

    entries.forEach(entry => {
        const card = document.createElement("div");
        card.className = "entry";

        card.innerHTML = `
            <strong>${entry.name}</strong> <em>(${entry.time})</em><br>
            <p>${entry.message}</p>
            <hr>
        `;

        entriesDiv.appendChild(card);
    });
}

document.getElementById("guestbookForm").addEventListener("submit", function(e){
    e.preventDefault();

    const name = document.getElementById("name").value.trim();
    const message = document.getElementById("message").value.trim();

    if(name === "" || message === "") return;

    let entries = JSON.parse(localStorage.getItem("guestbookEntries")) || [];

    entries.push({
        name: name,
        message: message,
        time: new Date().toLocaleString()
    });

    localStorage.setItem("guestbookEntries", JSON.stringify(entries));

    document.getElementById("guestbookForm").reset();

    loadEntries();
});

// Initialize on page load
loadEntries();
</script>

</body>
</html>
